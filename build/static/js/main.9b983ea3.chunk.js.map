{"version":3,"sources":["services/persons.js","components/Filter.jsx","components/PersonForm.jsx","components/DeleteButton.jsx","components/Persons.jsx","App.js","index.js"],"names":["baseUrl","personService","getPersons","axios","get","then","response","data","createPerson","personObj","post","deletePerson","id","delete","updatePerson","put","Filter","searchName","handleChangeSearch","type","value","onChange","PersonForm","handleSubmit","newName","handleChangeName","newNumber","handleChangeNumber","onSubmit","required","DeleteButton","person","setPersons","persons","setMessageErrorAdded","onClick","window","confirm","name","filter","personFilter","catch","error","setTimeout","Persons","map","toLocaleLowerCase","indexOf","number","App","useState","setNewName","setNewNumber","setSearchName","messageAdded","setMessageAdded","messageNumber","setMessageNumber","messageErrorAdded","updateNumber","find","p","changedPerson","returnedPerson","useEffect","personsReturned","e","target","added","preventDefault","newPersonObj","concat","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9b983ea3.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getPersons = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst createPerson = personObj => {\n    const request = axios.post(baseUrl,personObj)\n    return request.then(response => response.data)\n} \n\nconst deletePerson = id => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst updatePerson = (id, personObj)=>{\n    const request = axios.put(`${baseUrl}/${id}`,personObj)\n    return request.then(response => response.data)\n}\n\nconst personService = {getPersons, createPerson, deletePerson, updatePerson}\nexport default personService","import React from 'react'\n\nexport default function Filter({searchName,handleChangeSearch}) {\n    return (\n        <p>\n            Filter Shown With <input type=\"search\" value={searchName} onChange={handleChangeSearch} />\n        </p>\n    )\n}\n","import React from 'react'\n\nexport default function PersonForm({handleSubmit,newName,handleChangeName,newNumber,handleChangeNumber}) {\n    return (\n        <form onSubmit={handleSubmit} >\n            <div>\n                name: <input required value={newName} onChange={handleChangeName}/>\n            </div>\n            <div>\n                number: <input required type=\"tel\" value={newNumber} onChange={handleChangeNumber}/>\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n","import React from 'react'\nimport personService from '../services/persons'\n\nexport const DeleteButton = ({person,setPersons,persons,setMessageErrorAdded}) => {\n\n    const handleClick = () =>{\n        let result = window.confirm(`Delete ${person.name}?`)\n        if(result){\n            personService\n                .deletePerson(person.id)\n                    .then(setPersons(persons.filter(personFilter => {\n                    if(personFilter.id === person.id){\n                        return null\n                    }\n                    else{\n                        return personFilter\n                    }\n                    })))\n                        .catch(error => {\n                            setMessageErrorAdded(`Information of ${person.name} has already been removed from server`)\n                            setTimeout(() => {\n                                setMessageErrorAdded(null)\n                            }, 5000);\n                        })\n                    \n                    \n        \n        }\n    } \n    return (\n        <button onClick={handleClick}>\n            Delete\n        </button>\n    )\n}\n","import React from 'react'\nimport { DeleteButton } from './DeleteButton'\n\nexport default function Persons({persons, searchName, setPersons, setMessageErrorAdded}) { \n    \n    return (\n        <>\n           {persons.map((person)=>{\n                if(searchName !== \"\" && person.name.toLocaleLowerCase().indexOf(searchName.toLocaleLowerCase()) === -1){\n                    return null\n                }\n            return <p key={person.id} >{person.name}: {person.number} <DeleteButton persons={persons} person={person} setPersons={setPersons} setMessageErrorAdded={setMessageErrorAdded}/></p>\n            })}\n        </>\n    )\n}","import React, { useEffect, useState } from 'react'\n\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchName, setSearchName] = useState('')\n  const [messageAdded, setMessageAdded] = useState(null)\n  const [messageNumber, setMessageNumber] = useState(null)\n  const [messageErrorAdded, setMessageErrorAdded] = useState(null)\n\n  const updateNumber = id => {\n    const person = persons.find(p => p.id === id)\n    const changedPerson = {...person, number: newNumber}\n\n    personService\n      .updatePerson(person.id,changedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setMessageNumber(`Number of ${returnedPerson.name} was changed to: ${returnedPerson.number}`)\n        setTimeout(()=>{\n          setMessageNumber(null)\n        },5000)\n    })\n    \n  }\n\n  const handleChangeName = (e)=>{\n    setNewName(e.target.value)\n  }\n\n  const handleChangeNumber = (e)=>{\n    setNewNumber(e.target.value)\n  }\n  const handleChangeSearch = (e)=>{\n    setSearchName(e.target.value)\n  }\n\n  const handleSubmit = (e)=>{\n    let added = false\n    let update\n    e.preventDefault()\n    for (let person of persons){\n      if(newName === person.name){\n        update = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n        if(update){\n          return updateNumber(person.id)\n        }else{\n          setNewNumber('')\n          setNewName('')\n          return added = true\n        }\n      }\n    }\n    if(added === false){\n    const newPersonObj = {name: newName,number: newNumber}\n      personService\n        .createPerson(newPersonObj)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setNewNumber('')\n          setNewName('')\n          setMessageAdded(`${response.name} was added`)\n          setTimeout(()=>{\n            setMessageAdded(null)\n          },5000)\n        })\n        .catch(error => {\n          setMessageErrorAdded(error.response.data.error)\n          setTimeout(()=>{\n            setMessageErrorAdded(null)\n          },5000)\n        })\n    }\n  }\n\n  useEffect(()=>{\n    personService\n      .getPersons()\n      .then(personsReturned => setPersons(personsReturned))\n  },[])\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter searchName={searchName} handleChangeSearch={handleChangeSearch} />\n      <h2>Add a new</h2>\n      <PersonForm \n        handleSubmit={handleSubmit}\n        newName={newName}\n        handleChangeName={handleChangeName}\n        newNumber={newNumber}\n        handleChangeNumber={handleChangeNumber}\n        />\n        {messageAdded && <h2 className=\"successful-message\">{messageAdded}</h2>}\n        {messageNumber && <h2 className=\"successful-message\">{messageNumber}</h2>}\n        {messageErrorAdded && <h2 className=\"error-message\">{messageErrorAdded}</h2>}\n      <h2>Numbers</h2>\n      <Persons persons={persons} setPersons={setPersons} setMessageErrorAdded={setMessageErrorAdded} searchName={searchName} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}